<!doctype html>
<html lang="ru" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Arabic Letters ‚Äî –ö–Ω–∏–∂–∫–∞ 1</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; padding: 0; }
  </style>
</head>

<body class="h-full">
  <div class="h-full w-full flex flex-col md:flex-row" style="background:#f5f5f5;">

    <!-- MOBILE -->
    <header class="md:hidden bg-white border-b border-gray-200 p-3">
      <div class="flex items-center justify-between">
        <div class="text-sm font-semibold text-gray-700">–ö–Ω–∏–∂–∫–∞ 1</div>
        <button id="toggle-nav"
                class="rounded-lg px-3 py-2 text-sm font-semibold"
                style="background:#f3f4f6;">
          –°–∫—Ä—ã—Ç—å
        </button>
      </div>

      <div id="mobile-nav" class="mt-3">
        <div class="text-xs font-semibold uppercase tracking-wide text-gray-500">–ë—É–∫–≤—ã</div>

        <!-- üëá –ú–ï–ù–¨–®–ï –ö–í–ê–î–†–ê–¢–´: 4 –∫–æ–ª–æ–Ω–∫–∏ -->
        <div id="letters-mobile"
             class="mt-2 grid grid-cols-4 gap-1 overflow-y-auto"
             style="max-height: 24vh;"></div>
      </div>
    </header>

    <!-- DESKTOP -->
    <aside class="hidden md:flex md:flex-col p-4 gap-4"
           style="width:220px;background:#fff;border-right:1px solid #e0e0e0;overflow-y:auto;">
      <div class="text-xs font-semibold uppercase tracking-wide text-gray-500">–ö–Ω–∏–∂–∫–∞ 1</div>
      <div id="letters-desktop" class="flex flex-col gap-3"></div>
    </aside>

    <!-- CARD -->
    <main class="flex-1 flex items-center justify-center p-3 md:p-8">
      <div class="w-full h-full flex flex-col items-center justify-center gap-3">
        <img id="card-image"
             src=""
             alt="Letter"
             class="w-full"
             style="max-height:68vh;object-fit:contain;" />

        <audio id="letter-audio" controls class="w-full max-w-md"></audio>

        <button id="stop-audio"
                class="px-4 py-2 rounded-lg text-sm font-semibold"
                style="background:#f3f4f6;">
          ‚èπ –°—Ç–æ–ø
        </button>
      </div>
    </main>
  </div>

  <script>
    const book1 = [
      { label: "ÿØ", img: "–ú–∏—à–∫–∞.png",        audio: "–º–∏—à–∫–∞.mp3",        bg:"#E8D4B7", fg:"#4B2E1E" },
      { label: "ÿ®", img: "–£—Ç–æ—á–∫–∞.png",       audio: "—É—Ç–æ—á–∫–∞.mp3",       bg:"#FFE7A3", fg:"#6B4E00" },
      { label: "ÿ∑", img: "–ü—Ç–∏—á–∫–∞.png",       audio: "–ø—Ç–∏—á–∫–∞.mp3",       bg:"#FFC3C3", fg:"#7A0000" },
      { label: "ÿ≠", img: "–õ–æ—à–∞–¥–∫–∞.png",      audio: "–ª–æ—à–∞–¥–∫–∞.mp3",      bg:"#CFE5FF", fg:"#0A3D7A" },
      { label: "ÿ∂", img: "–õ—è–≥—É—à–∫–∞.png",      audio: "–ª—è–≥—É—à–∫–∞.mp3",      bg:"#D7F7D7", fg:"#135B13" },
      { label: "ŸÇ", img: "–ö–æ—à–∫–∞.png",        audio: "–∫–æ—à–∫–∞.mp3",        bg:"#E7DCFF", fg:"#3E1C7A" },
      { label: "ŸÉ", img: "–°–æ–±–∞—á–∫–∞.png",      audio: "—Å–æ–±–∞—á–∫–∞.mp3",      bg:"#FFFFFF", fg:"#111111" },
      { label: "ÿÆ", img: "–û–≤–µ—á–∫–∞ 2.png",     audio: "–æ–≤–µ—á–∫–∞.mp3",       bg:"#111111", fg:"#FFFFFF" },
      { label: "ÿ≥", img: "–†—ã–±–∫–∞.png",        audio: "—Ä—ã–±–∫–∞.mp3",        bg:"#FFE9B8", fg:"#7A4B00" },
      { label: "ŸÅ", img: "–ú—ã—à–∫–∞.png",        audio: "–º—ã—à–∫–∞.mp3",        bg:"#D9F0FF", fg:"#0B4B6B" },
      { label: "ÿ´", img: "–õ–∏—Å–∞.png",         audio: "–ª–∏—Å–∞.mp3",         bg:"#FFD7B5", fg:"#7A2E00" },
      { label: "ÿ∞", img: "–í–æ–ª–∫.png",         audio: "–≤–æ–ª–∫.mp3",         bg:"#E6E6E6", fg:"#1A1A1A" },
      { label: "ŸÖ", img: "–£—á–∏—Ç.–µ–ª—å–Ω–∏—Ü–∞.png", audio: "—É—á–∏—Ç–µ–ª—å–Ω–∏—Ü–∞.mp3",  bg:"#FFD6E7", fg:"#7A003A" },
      { label: "ÿ£", img: "–î–µ—Ç–∏.png",         audio: "–¥–µ—Ç–∏.mp3",         bg:"#EAF7FF", fg:"#1A1A1A" },
    ];

    const lettersMobile = document.getElementById("letters-mobile");
    const lettersDesktop = document.getElementById("letters-desktop");
    const cardImage = document.getElementById("card-image");
    const audioEl = document.getElementById("letter-audio");
    const stopBtn = document.getElementById("stop-audio");

    const toggleNavBtn = document.getElementById("toggle-nav");
    const mobileNav = document.getElementById("mobile-nav");

    let activeIndex = 0;

    function stopAudio() {
      audioEl.pause();
      audioEl.currentTime = 0;
    }

    function setCard(index) {
      activeIndex = index;
      const item = book1[index];

      stopAudio();
      cardImage.src = encodeURI(item.img);
      cardImage.alt = item.label;
      audioEl.src = encodeURI(item.audio);
      audioEl.load();

      highlightAll();
    }

    function highlightAll() {
      document.querySelectorAll(".letter-btn").forEach((b, i) => {
        b.style.outline = i === activeIndex ? "2px solid rgba(0,0,0,0.25)" : "none";
      });
    }

    function makeLetterButton(l, i, isMobile) {
      const btn = document.createElement("button");
      btn.className = "letter-btn rounded-lg flex items-center justify-center font-bold transition-all";
      btn.style.background = l.bg;
      btn.style.color = l.fg;
      btn.style.border = "1px solid rgba(0,0,0,0.08)";
      btn.textContent = l.label;
      btn.onclick = () => setCard(i);

      if (isMobile) {
        btn.classList.add("w-full", "aspect-square", "text-2xl"); // üî† —Ä–∞–∑–º–µ—Ä –±—É–∫–≤—ã –ù–ï –º–µ–Ω—è–µ–º
      } else {
        btn.classList.add("h-20", "text-3xl");
      }
      return btn;
    }

    function renderLetters() {
      lettersMobile.innerHTML = "";
      lettersDesktop.innerHTML = "";

      book1.forEach((l, i) => {
        lettersMobile.appendChild(makeLetterButton(l, i, true));
        lettersDesktop.appendChild(makeLetterButton(l, i, false));
      });
    }

    stopBtn.onclick = stopAudio;

    toggleNavBtn.onclick = () => {
      const hidden = mobileNav.classList.toggle("hidden");
      toggleNavBtn.textContent = hidden ? "–ü–æ–∫–∞–∑–∞—Ç—å" : "–°–∫—Ä—ã—Ç—å";
      cardImage.style.maxHeight = hidden ? "86vh" : "68vh";
    };

    renderLetters();
    setCard(0);
  </script>
</body>
</html>
